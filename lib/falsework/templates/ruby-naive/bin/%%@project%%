#!/usr/bin/env ruby
# -*-ruby-*-

require_relative '../lib/<%= @project %>/trestle.rb'

include <%= @camelcase %>

$conf = Hash.new
$t = Trestle.new($conf)

$conf[:banner] = "Usage: #{File.basename($0)} [options] hren'"
$conf[:foobar] = ''


# --[ main ]------------------------------------------------------------

$t.config_parse(['foobar']) {|src|
  o = $t.cl_parse(src) # create an OptionParser object
  o.on('--foobar STR', 'An example of the option --foobar') {|i|
    $conf[:foobar] = i
  }
  $t.cl_parse(src, o) # run cl parser
}

# print our env
if $conf[:verbose] >= 2
  puts 'Libs dir: ' + Trestle.gem_libdir
  pp $conf
end

puts 'Hello, World!'
